Bastion - офисный фильтр сайтов
--
Зависимости: `iptables squid ipset bind-utils apache squidanalyzer polkit sakura openssh-server`

Трёхуровневая фильтрация HTTP/HTTPS:
+ Squid + Чёрные/Белые списки сайтов + VIP-пользователи
+ IPTables + IPSet (блокировка хост=несколько IP) + словарная фильтрация
+ SquidAnalyzer - анализатор логов интренет-соединений

Физически состоит из двух частей:
+ GUI (rpm-пакет, подтягивает все нужные зависимости)
+ Архив файлов конфигураций (распаковывается вручную etc->etc)

Настройте WAN/LAN на компьютере, выполняющем роль шлюза и запустите Bastion. Укажите имена интерфейсов, локальную сеть и нажмите кнопку `Новый сертификат`. После того, как сертификат будет создан, установите его в браузерах клиентов. Для моментального применения правил блокировки из списков или первого старта нажмите кнопку `Рестарт`. Удалённый доступ к серверу - `SSH:22` (интернет/локальная сеть). Порт 22 защищен от брутфорса: три неудачных пароля - блокировка на 60 секунд.

Примечание: Bastion может быть настроен/запущен и без GUI (только скрипты). Mageia-8.

![](https://github.com/AKotov-dev/bastion/blob/main/ScreenShot.png)